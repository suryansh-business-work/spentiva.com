---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Input from "../components/forms/Input.astro";
import Select from "../components/forms/Select.astro";
import Textarea from "../components/forms/Textarea.astro";
import Checkbox from "../components/forms/Checkbox.astro";
import Button from "../components/forms/Button.astro";
import Alert from "../components/ui/Alert.astro";

const contactInfo = [
  {
    icon: "fas fa-envelope",
    title: "Email Us",
    content: "support@spentiva.com",
    link: "mailto:support@spentiva.com",
  },
  {
    icon: "fas fa-globe",
    title: "We Work Remotely",
    content: "Our team is distributed worldwide",
    link: "#",
  },
];

const subjectOptions = [
  { value: "support", label: "Technical Support" },
  { value: "billing", label: "Billing & Subscription" },
  { value: "partnership", label: "Partnership Inquiry" },
  { value: "other", label: "Other" },
];
---

<BaseLayout
  title="Contact Us - Spentiva by Exyconn"
  description="Get in touch with our team. We're here to help you with any questions or support needs."
>
  <Header />

  <!-- Hero Section - Enhanced -->
  <section
    class="relative bg-gradient-to-br from-primary-50 via-white to-accent-50 pt-32 pb-20 lg:pt-40 lg:pb-28 overflow-hidden"
  >
    {/* Decorative background elements */}
    <div class="absolute top-20 right-10 w-96 h-96 bg-primary-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"></div>
    <div class="absolute bottom-10 left-10 w-96 h-96 bg-accent-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"></div>
    
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl relative z-10">
      <div
        class="max-w-4xl mx-auto text-center"
        style="animation: fadeInUp 0.8s ease-out"
      >
        <span class="inline-block px-4 py-2 bg-white text-primary-600 rounded-full text-sm font-semibold mb-6 border border-primary-200 shadow-sm">
          ðŸ’¬ Let's Connect
        </span>
        <h1
          class="text-5xl md:text-6xl lg:text-7xl font-bold mb-8 text-text-primary tracking-tight leading-tight"
        >
          Get in <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary-500 to-accent-500">Touch</span>
        </h1>
        <p
          class="text-xl md:text-2xl text-text-secondary max-w-3xl mx-auto leading-relaxed"
        >
          Have questions? We'd love to hear from you. Send us a message and
          we'll respond as soon as possible.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact Form & Info Section - Enhanced -->
  <section class="py-20 sm:py-24 lg:py-32 bg-white relative overflow-hidden">
    {/* Background decoration */}
    <div class="absolute bottom-0 right-0 w-96 h-96 bg-primary-100 rounded-full mix-blend-multiply filter blur-3xl opacity-20"></div>
    
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl relative z-10">
      <div class="grid lg:grid-cols-3 gap-12 lg:gap-16">
        <!-- Contact Information -->
        <div class="lg:col-span-1 space-y-8">
          <div>
            <h2 class="text-3xl font-bold text-text-primary mb-6">
              Contact <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary-500 to-accent-500">Information</span>
            </h2>
            <p class="text-text-secondary leading-relaxed mb-8">
              Our team is here to help you with any questions or support needs. Reach out through any of these channels.
            </p>
          </div>
          
          <div class="space-y-6">
            {
              contactInfo.map((item, index) => (
                <a
                  href={item.link}
                  class="cursor-pointer flex items-start group bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl border border-border-light hover:border-primary-300 hover:shadow-lg transition-all duration-300"
                  style={`animation: fadeInUp 0.5s ease-out ${index * 0.1}s backwards`}
                >
                  <div class="w-14 h-14 bg-gradient-to-br from-primary-100 to-primary-50 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-md">
                    <i class={`${item.icon} text-primary-500 text-xl`} />
                  </div>
                  <div class="ml-5">
                    <p class="text-sm font-semibold text-text-secondary mb-2 uppercase tracking-wide">
                      {item.title}
                    </p>
                    <p class="text-text-primary font-bold text-lg group-hover:text-primary-600 transition-colors">
                      {item.content}
                    </p>
                  </div>
                </a>
              ))
            }
          </div>

          <div
            class="bg-gradient-to-br from-primary-50 to-accent-50 rounded-2xl border-2 border-primary-100 p-8"
          >
            <div class="flex items-center mb-4">
              <div class="w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center">
                <i class="fas fa-clock text-white"></i>
              </div>
              <h3 class="text-xl font-bold text-text-primary ml-4">
                Support Hours
              </h3>
            </div>
            <p class="text-text-secondary mb-6 leading-relaxed">
              Our dedicated support team is available to assist you during the
              following hours:
            </p>
            <ul class="space-y-3 text-sm">
              <li class="flex justify-between p-3 bg-white rounded-lg">
                <span class="font-semibold text-text-primary">Monday - Friday:</span>
                <span class="text-text-secondary">9:00 AM - 6:00 PM EST</span>
              </li>
              <li class="flex justify-between p-3 bg-white rounded-lg">
                <span class="font-semibold text-text-primary">Saturday:</span>
                <span class="text-text-secondary">10:00 AM - 4:00 PM EST</span>
              </li>
              <li class="flex justify-between p-3 bg-gray-50 rounded-lg">
                <span class="font-semibold text-text-secondary">Sunday:</span>
                <span class="text-text-placeholder">Closed</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Contact Form - Enhanced -->
        <div class="lg:col-span-2">
          <div
            class="bg-white rounded-3xl shadow-2xl border-2 border-border-light p-8 md:p-12 relative overflow-hidden"
          >
            {/* Background gradient effect */}
            <div class="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-primary-50 to-accent-50 rounded-full blur-3xl opacity-50"></div>
            
            <div class="relative z-10">
              <div class="mb-10">
                <h2 class="text-3xl font-bold text-text-primary mb-3">
                  Send us a Message
                </h2>
                <p class="text-text-secondary">
                  Fill out the form below and we'll get back to you within 24 hours.
                </p>
              </div>

              <form class="space-y-6" id="contact-form">
                <div class="grid md:grid-cols-2 gap-6">
                  <Input
                    name="firstName"
                    label="First Name"
                    placeholder="John"
                    required
                  />
                  <Input
                    name="lastName"
                    label="Last Name"
                    placeholder="Doe"
                    required
                  />
                </div>

                <Input
                  type="email"
                  name="email"
                  label="Email Address"
                  placeholder="john@example.com"
                  required
                />

                <Select
                  name="subject"
                  label="Subject"
                  options={subjectOptions}
                  placeholder="Select a topic"
                />

                <Textarea
                  name="message"
                  label="Message"
                  rows={5}
                  placeholder="How can we help you?"
                  required
                />

                <Checkbox
                  name="privacy"
                  label="I agree to the Privacy Policy and Terms of Service."
                  required
                >
                  I agree to the <a
                    href="/privacy-policy"
                    class="cursor-pointer text-primary-600 hover:text-primary-700 font-semibold hover:underline"
                    >Privacy Policy</a
                  > and <a
                    href="/terms-and-conditions"
                    class="cursor-pointer text-primary-600 hover:text-primary-700 font-semibold hover:underline"
                    >Terms of Service</a
                  >.
                </Checkbox>

                <Button
                  type="submit"
                  variant="primary"
                  fullWidth
                  icon="fas fa-paper-plane"
                  loading={false}
                >
                  Send Message
                </Button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <Footer />
</BaseLayout>

<script>
  // Simple form handling for demonstration
  const form = document.getElementById("contact-form");
  const submitBtn = form?.querySelector(
    'button[type="submit"]',
  ) as HTMLButtonElement | null;

  form?.addEventListener("submit", (e) => {
    e.preventDefault();

    // Simulate loading state
    if (submitBtn) {
      const originalContent = submitBtn.innerHTML;
      submitBtn.disabled = true;
      submitBtn.innerHTML =
        '<i class="fas fa-spinner fa-spin mr-2"></i> Sending...';

      setTimeout(() => {
        alert("Message sent successfully! We will get back to you soon.");
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalContent;
        (form as HTMLFormElement).reset();
      }, 1500);
    }
  });
</script>
